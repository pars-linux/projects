

  
  <table border="0" cellspacing="0" cellpadding="3" width="100%"><tr><td>
    <div align="center" id="bldcontent">
      <a href="http://www.opendocspublishing.com/"><img src="../images/opendocs.png" width="63" height="76" border="0"></a>
      <br>
      <div class="symbol">Your OpenSource Publisher&#153;</div>
    </div>
    
  </td></tr></table>
  
  <div align="center" class="author">
      	<a href="../products.lxp.html">Products</a>
	&nbsp;|&nbsp;
	<a href="../wheretobuy.lxp.html">Where to buy</a>
	&nbsp;|&nbsp;
	<a href="../bookstore.lxp.html">Retailers</a>
	&nbsp;|&nbsp;
	<a href="../FAQ.lxp.html">FAQ</a>
	&nbsp;|&nbsp;
        <a href="../writeforus.lxp.html">Write for Us.</a>
        &nbsp;|&nbsp;
        <a href="c8100.htm#contact">Contact Us.</a>
  </div>
    <table border="0" cellspacing="3" cellpadding="0" width="100%"><tr><td width="100%">
      <div class="content">
        <table border="0" cellspacing="2" cellpadding="0" width="100%"><tr><td width="100%">
          <div align="center">
<H4 CLASS="AUTHOR"><A NAME="AEN5">Boudewijn Rempt</A>
<br>
<a href="http://www.amazon.com/exec/obidos/tg/detail/-/0970033044/q4/103-9966647-8957454?v=glance&s=books">
<img src="ODPyQT125.png">
</a>
<br>
ISBN: 0-97003300-4-4
<br>
<a href="http://www.amazon.com/exec/obidos/tg/detail/-/0970033044/q4/103-9966647-8957454?v=glance&s=books">
Available from bookstores everywhere or you can order it here.
</a>
<p>
You can download the source files for the book <a href="pyqtsrc.tgz">(code / eps) here.</a>
<hr>
</div>

          
          <HTML
><HEAD
><TITLE
>Printing</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.72
"><LINK
REL="HOME"
TITLE="GUI Programming with Python: QT Edition"
HREF="book1.htm"><LINK
REL="UP"
TITLE="Creating real applications with PyQt"
HREF="p4627.htm"><LINK
REL="PREVIOUS"
TITLE="Conclusion"
HREF="x8095.htm"><LINK
REL="NEXT"
TITLE="Adding printing to Kalam"
HREF="x8141.htm"></HEAD
><BODY
CLASS="CHAPTER"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>GUI Programming with Python: QT Edition</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A accesskey="P" href="x8095.htm">Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A accesskey="N" href="x8141.htm">Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="CHAPTER"
><H1
>Chapter 24. Printing</A
></H1
><DIV
CLASS="TOC"
><DL
><DT
><B
>Table of Contents</B
></DT
><DT
><A href="c8100.htm#AEN8115">The <TT
CLASS="CLASSNAME"
>QPrinter</TT
> class</A
></DT
><DT
><A href="x8141.htm">Adding printing to Kalam</A
></DT
><DT
><A href="x8148.htm">Putting ink to paper</A
></DT
><DT
><A href="x8207.htm">Conclusion</A
></DT
></DL
></DIV
><P
>Printing: a subject that strikes fear into
    the heart of even the most stalwart developer&#8212;and with good
    reason. Getting a user's application data neatly on paper demands
    a lot of skill.</P
><P
>Common problems include different printer
    capabilities, differences between fonts on screen and on the
    printer, differing paper sizes, and platform differences in
    getting the output to the printer.</P
><P
>PyQt brings a measure of relief to some of
    these problems, though not to all. It provides you with the
    <TT
CLASS="CLASSNAME"
>QPrinter</TT
> object, which is a type of
    <TT
CLASS="CLASSNAME"
>QPaintDevice</TT
> that has a built-in common
    dialog for printer settings. This takes care of most problems
    associated with font handling and printer capabilities.  With Qt 3
    you can even send TrueType fonts to the printer. The hard
    work&#8212;the layout of the page for paper&#8212;is still your
    job.</P
><P
>Printing on Unix/X11 requires creating
    PostScript files and sending them to lpr. On Windows systems you
    can use the built-in printer drivers. On a Unix system you can
    always chicken out; if your application data is plain text or
    source code, you can spool it directly to the printer, or via a
    pretty-printing program such as a2ps.</P
><P
>For the moment, we will not pursue that
    option, and instead use <TT
CLASS="CLASSNAME"
>QPrinter</TT
> to add
    printing capabilities to <SPAN
CLASS="APPLICATION"
>Kalam</SPAN
>.</P
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
>The <TT
CLASS="CLASSNAME"
>QPrinter</TT
> class</A
></H1
><P
>Generally speaking, there will be only one
      active printer attached to a user's system. This means that we
      will keep a single reference to a
      <TT
CLASS="CLASSNAME"
>QPrinter</TT
> object. Therefore, we might as
      well create the <TT
CLASS="CLASSNAME"
>QPrinter</TT
> in the
      <TT
CLASS="FUNCTION"
>__init__()</TT
> method of the
      <TT
CLASS="CLASSNAME"
>KalamApp</TT
> class.</P
><PRE
CLASS="PROGRAMLISTING"
># kalamapp.py

class KalamApp(QMainWindow):
    """KalamApp is the toplevel application window of the kalam unicode editor
    application.
    """
    def __init__(self, *args):
        apply(QMainWindow.__init__,(self, ) + args)
        ...
        # Create the printer object
        self.printer = QPrinter()
        ...
    </PRE
><P
><TT
CLASS="CLASSNAME"
>QPrinter</TT
> is more
      configurable than most <TT
CLASS="CLASSNAME"
>QPaintDevices</TT
>. You
      can set the printer, printer driver, paper size, number of
      copies to be printed, and so on. You can set those configuration
      options programmatically, but some of them can also be changed
      by the user. If you call the <TT
CLASS="FUNCTION"
>setup()</TT
> function on the
      printer object, a printer setup dialog will popup:</P
><DIV
CLASS="MEDIAOBJECT"
><P
><DIV
CLASS="CAPTION"
><P
>The printer setup dialog</P
></DIV
></P
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A accesskey="P" href="x8095.htm">Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A accesskey="H" href="book1.htm">Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A accesskey="N" href="x8141.htm">Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Conclusion</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A accesskey="U" href="p4627.htm">Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Adding printing to Kalam</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>
      </td>
      </tr>
      </table>
      </td>
    </tr>
  </table>
  
    
